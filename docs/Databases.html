<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Page title -->
	<title>RapidAPI - Docs</title>
	<!-- Page description -->
	<meta name="description" content="">
	<!-- Meta -->
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Favicon  -->
	<link rel="icon" type="image/png" href="img/favicons/favicon-16x16.png" sizes="16x16">
	<link rel="icon" type="image/png" href="img/favicons/favicon-32x32.png" sizes="32x32">
	<link rel="icon" type="image/png" href="img/favicons/favicon-96x96.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="57x57" href="img/favicons/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="img/favicons/apple-touch-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="img/favicons/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="img/favicons/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="img/favicons/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="img/favicons/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="img/favicons/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="img/favicons/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="img/favicons/apple-touch-icon-180x180.png">
	<!-- Include StyleSheets -->
	<link rel="stylesheet" href="css/style.min.css">
	<link rel="stylesheet" href="css/custom.css">
	<!-- <link rel="stylesheet" href="css/custom.css"> -->
	<script src="js/modernizr.js"></script>
</head>

<body>
	<!--[if lt IE 8]>
	    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
	<![endif]-->
	<div class="page" id="page-top">

		<!-- Navigation -->
		<div id="header-include"></div>


		<!-- End Page Info -->
		<div id="content">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<div class="layout with-left-sidebar">
							<div class="left-sidebar">
								<!-- Vertical Menu -->
								<nav class="js-menu-fixed menu-vertical-wrapper">
									<ul class="menu-vertical  js-menu-vertical">
										<li class="selected">
											<a href="#">Getting started</a>
											<ul>
												<li>
													<a href="/docs/basics.html">The Basics</a>
												</li>
												<li>
													<a href="">Databases</a>
												</li>
												<li>
													<a href="/docs/realTimeApps.html">Developing real time apps</a>
												</li>
												<li>
													<a href="/docs/recievingTextMessages.html">Incoming SMS Messages</a>
												</li>
											</ul>
										</li>
										<li>
											<a href="#">Integration</a>
											<ul>
												<li>
													<a href="/docs/ios.html">iOS & Swift</a>
												</li>
											</ul>
										</li>
										<li>
											<a href="#">Full Project Tutorials</a>
											<ul>
												<li>
													<a href="/docs/tutorial.html">Musicality App</a>
												</li>
												<li>
													<a href="/docs/pubNubTutorial.html">Chatting with PubNub</a>
												</li>
											</ul>
										</li>
									</ul>
									<!--<div class="separator"></div>-->
									<!-- Search -->
									<!--<div class="search">-->
										<!--<form action="#">-->
											<!--<input type="text" class="search-input form-control" placeholder="search">-->
											<!--<i class="fa fa-search search-icon"></i>-->
										<!--</form>-->
									<!--</div>-->
									<!-- End of Search -->
									<!-- Tags -->
									<!--<ul class="tags">-->
										<!--<li class="tag-item">-->
											<!--<a href="#">html</a>-->
										<!--</li>-->
										<!--<li class="tag-item">-->
											<!--<a href="#">css</a>-->
										<!--</li>-->
										<!--<li class="tag-item">-->
											<!--<a href="#">javascript</a>-->
										<!--</li>-->
										<!--<li class="tag-item">-->
											<!--<a href="#">jquery</a>-->
										<!--</li>-->
										<!--<li class="tag-item">-->
											<!--<a href="#">less</a>-->
										<!--</li>-->
										<!--<li class="tag-item">-->
											<!--<a href="#">sass</a>-->
										<!--</li>-->
										<!--<li class="tag-item">-->
											<!--<a href="#">haml</a>-->
										<!--</li>-->
										<!--<li class="tag-item">-->
											<!--<a href="#">gulp</a>-->
										<!--</li>-->
									<!--</ul>-->
									<!-- End of Tags -->
								</nav>
								<!-- End of Vertical Menu -->
							</div>
							<div class="main-content with-left-sidebar">
								<!-- Category Info -->
								<div class="category-info ">
									<h3 class="category-title">Databases with RapidAPI</h3>
								</div>
								<!-- End of Caregory Info -->

       <p class="p1"><span style="font-family:arial,helvetica,sans-serif;">This tutorial will show you how to use a database in your RapidAPI project to store data and use it in your app. Databases are great if you want to implement a user login system, or save any type of data to the cloud.</span><br />
&nbsp;</p>

<h2 class="p1"><span style="font-family:arial,helvetica,sans-serif;">What are databases</span></h2>

<p class="p1"><span style="font-family:arial,helvetica,sans-serif;">Imagine a database as being a big storage room. In this room, you have different boxes for storing different types of items - a box for storing all the user profiles, a box for storing all the articles, a box for storing messages and so on.<br />
In the database, you have collections - those are the different boxes in the storage room (e.g. users collection, articles collection and so on). Inside each collection, documents are stored. Each document has some properties. For a users collection for example, each document will represent a user, and thus will have properties such as name, email, password, age etc&hellip;<br />
<img alt="" src="../img/database/Database.png" style="width: 400px; height: 249px;" /></span><br />
&nbsp;</p>

<h2 class="p1"><span style="font-family:arial,helvetica,sans-serif;">Creating a database</span></h2>

<p class="p1"><span style="font-family:arial,helvetica,sans-serif;">Once you have a new project, open up the project page and head over to the Database tab. There, click the &lsquo;+&rsquo; button to create a new database. Choose &lsquo;Create a Database on Rapid&rsquo; to have RapidAPI create the database and host ot for you, and give it a name.<br />
When you host your database with RapidAPI, Rapid takes care of administering the Database, creating regular backups and scaling the database based on your usage, so you don&rsquo;t have to worry about anything.<br />
Now that you have your database, you can use the database blocks to save, update, find and remove data from the database.</span><br />
&nbsp;</p>

<h2 class="p1"><span style="font-family:arial,helvetica,sans-serif;">Saving documents to the database</span></h2>

<p class="p1"><span style="font-family:arial,helvetica,sans-serif;">The first thing that you will want to do is to save new documents into the newly created database. Luckily enough, we have just the block for that! Head over to the packages menu, open the Database package and drag in the database.save block. This block is used to save documents into a certain collection.<br />
<img alt="" src="../img/database/save.png" style="width: 400px; height: 215px;" /><br />
As you can see, this blocks receives 3 arguments:</span></p>

<ul>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>collection</strong>&nbsp;- the collection (a.k.a box) the document will be saved into</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>db</strong>&nbsp;- the database the block will be saved into (the name of the database you created in the project)</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>doc</strong>&nbsp;- the document that will be saved. The document is made out of properties, so click the + button to add a new property, and assign a value to it. You can also use variables as value, so if for example the username is passed in the body request, use #body.username.</span></li>
</ul>
<span style="font-family:arial,helvetica,sans-serif;">You will also see that the database.save block has 2 possible outcomes - success, which means that everything went fine and the document was saved, and error, which means there was an error and the document was not saved. Drag blocks into these outcomes to properly handle them.</span>

<h2><br />
<span style="font-family:arial,helvetica,sans-serif;">Finding a single document in a collection</span></h2>
<span style="font-family:arial,helvetica,sans-serif;"> After you have saved some documents into the collection, the next logical thing to do would be to start finding documents in the database. If you are implementing a login system for example, when the user signs up, you will save a document with all his data into the users collection. When he&rsquo;ll try to login, he&rsquo;ll call a login endpoint with his username and password (those he signed up with), and the endpoint will try to find a user with such credentials to see if such user exists (if not, the supplied username &amp; password are incorrect).<br />
To find a single document, use the database.findOne block.<br />
<img alt="" src="../img/database/findOne.png" style="width: 400px; height: 323px;" /><br />
The database.findOne block receives 4 arguments:</span>

<ul>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>collection</strong>&nbsp;- the collection you are trying to find the document in</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>db</strong>&nbsp;- the name of the database you are using</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>to</strong>&nbsp;- the name of the variable the document that was found will be saved into. If you call it <em>user</em>&nbsp;for example, you will be able write <em>#user</em>&nbsp;later, and it&rsquo;ll be replaced with the document you found. To get just the <em>name</em>&nbsp;property of the user, you can use <em>#user.name</em>.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>query</strong>&nbsp;- all the criterias for the document. You can add more criterias with the + button in the bottom of the box. Each criteria is made out of 3 parts:</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;">field - the parameter of the document you are setting a criteria on.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;">operator - the operator you will use for comparison on this parameter.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;">value - the value for the field to be compared with</span></li>
</ul>
<span style="font-family:arial,helvetica,sans-serif;"> For instance, if you are trying to find the document of a user named &lsquo;Jon Snow&rsquo; whose age is over 15 in a collection named &lsquo;users&rsquo; in the database &lsquo;main&rsquo;, it&rsquo;ll look like that:<br />
<img alt="" src="../img/database/findOneWithFields.png" style="width: 400px; height: 410px;" /><br />
Later in the document you&rsquo;ll be able to find the list of all the comparison operators you can use.</span>

<h2><br />
<span style="font-family:arial,helvetica,sans-serif;">Finding multiple documents in a database</span></h2>
<span style="font-family:arial,helvetica,sans-serif;"> There are 2 main use cases for finding multiple documents in a database:</span>

<ul>
  <li><span style="font-family:arial,helvetica,sans-serif;">Performing an action for each one (for example, finding all the users attending an event and sending them a notification)</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;">Responding with an array of all the documents found (for example, listing all the articles that have been published in the last 24 hours and showing them on the screen)</span></li>
</ul>
<span style="font-family:arial,helvetica,sans-serif;"> For each of these use cases, there is a block.<br />
<br />
<strong>Finding an array</strong><br />
To create an array of all documents matching a certain criteria, use the database.find block as following:<br />
<img alt="" src="../img/database/find.png" style="width: 400px; height: 436px;" /><br />
As you can see, this block has the db, collection and query arguments which are all identical to those in the findOne block. On top of these, the find block introduces several more arguments:</span>

<ul>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>limit</strong>&nbsp;- used to limit the amount of documents returned. If you pass 10 as the limit, for example, the array will only contain the 10 first items found matching the given criteria (or less, if there aren&rsquo;t 10 matching documents). To set no limit, leave empty or pass 0.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>skip</strong>&nbsp;- enables you to skip the first X documents. For example, if you pass 10 as the skip value, you will only get the 11th, 12th and so on documents (to skip no documents, pass 0, meaning 0 documents will be skipped).</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>sort</strong>&nbsp;- enables you to sort the documents in the returned array, by passing the name of the field that the documents will be sorted by. In the example above, they will be sorted by their publishDate property - meaning they will be chronologically sorted. If no sorting should be done, this field should be left blank.</span></li>
</ul>
<span style="font-family:arial,helvetica,sans-serif;"><br />
<strong>Iterative find:</strong><br />
This block finds all the documents matching a certain criteria, and &lsquo;iterates&rsquo; over all of them, by calling a certain block for each document found.<br />
<img alt="" src="../img/database/findIterative.png" style="width: 350px; height: 563px;" /><br />
As you can see, this is a basic find block, identical to the database.find block, whose only modification is the addition of the <em>loop</em>&nbsp;outcome. Any series of blocks placed inside of &lsquo;loop&rsquo; will be called once for every document found in the database. The variable whose name was passed as the <em>to</em>&nbsp;argument will hold a single document every time the loop outcome is called. For example, if we want to send a message to all the users who are 16 years old (in the database main in the collection users), we will use the following logic:<br />
<img alt="" src="../img/database/looper" style="width: 330px; height: 650px;" /></span>

<h2><br />
<span style="font-family:arial,helvetica,sans-serif;">Query operators</span></h2>
<span style="font-family:arial,helvetica,sans-serif;"> RapidAPI offers several query operators to allow you to find precisely the document you need. This section lists the most common update operators.<br />
<br />
<strong>Basic comparison (numerical / lexical):</strong><br />
These operators perform basic comparisons between values. If the values are strings, they perform a <a href="http://www.google.com/url?q=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2FLexicographical_order&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNELM-LwnTJ-IbCjIpQMgFoYWQKizQ">lexical comparison</a>&nbsp;(like the ordering in the dictionary).</span>

<ul>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>=</strong>&nbsp;- checks if the value in the field is equal to the passed value.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>!=</strong>&nbsp;- checks if the value in the field is differs from the passed value.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>&gt;</strong>&nbsp;- checks if the value in the field is bigger than the passed value.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>&gt;=</strong>&nbsp;- checks if the value in the field is bigger than or equal to the passed value.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>&lt;</strong>&nbsp;- checks if the value in the field is smaller than the passed value.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>&lt;=</strong>&nbsp;- checks if the value in the field is smaller than or equal to the passed value.</span></li>
</ul>
<span style="font-family:arial,helvetica,sans-serif;"><br />
<strong>Date / time based comparison:</strong><br />
These operators allow you to compare dates. For example, let&rsquo;s say you store a joinDate property for every user that shows when he signed up to the system (you can use the #now variable that has the current date and time), and want to send an email to all the users that join in the last 24 hours.<br />
Note that dates must be stored in the ISODate format for these operators. You can see the documentation for variables to see how to use the built in dates, like #now.</span>

<ul>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>secondsAgo</strong>&nbsp;- checks if the value in the field signifies a date/time that is less seconds ago than the value passed (so if we calculate how many seconds ago it took place, the result will be smaller than the value).</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>minutesAgo</strong>&nbsp;- checks if the value in the field signifies a date/time that is less minutes ago than the value passed.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>hoursAgo</strong>&nbsp;- checks if the value in the field signifies a date/time that is less hours ago than the value passed.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>daysAgo</strong>&nbsp;- checks if the value in the field signifies a date/time that is less days ago than the value passed.</span></li>
</ul>

<h2><br />
<span style="font-family:arial,helvetica,sans-serif;">Removing documents</span></h2>
<span style="font-family:arial,helvetica,sans-serif;"> In some cases you may want to remove documents from a certain collection in the database. To do that, you can use the database.remove block (figures, right?):<br />
<img alt="" src="../img/database/remove" style="width: 400px; height: 263px;" /><br />
This block works a lot like a find block - given a database, collection and criteria, this block finds all the documents matching the criteria in the collection, and removes them permanently.</span>

<h2><br />
<span style="font-family:arial,helvetica,sans-serif;">Updating documents</span></h2>
<span style="font-family:arial,helvetica,sans-serif;"> In many scenarios information changes over time, or new information arrives. For example, a user&rsquo;s relationship status may change (for better or worse), an article on a current event can change over time and so on&hellip; One approach to this could be to remove the relevant document and save a new one. While this sounds like valid approach, it has many downsides, including inefficiency, being insecure and generally being considered so bad practice (as a matter of fact we will email you with an angry face if we will see you using that).<br />
Luckily, RapidAPI has a block just for that called <em>database.update</em>, that looks like that:<br />
<img alt="" src="../img/database/update" style="width: 400px; height: 433px;" /><br />
This block works a lot like a <em>database.find</em>&nbsp;block, only it also performs an update on every document it finds. The collection, db and query arguments work just like in the find block. The update enables you to modify the value in a certain field. You can have multiple update operations (click the + button on the bottom to add new ones). Each update operation is made out of 3 components:</span>

<ul>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>field</strong>&nbsp;- the field that will be updated.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>operator</strong>&nbsp;- the operator that will be used for the update (detailed list below). For example, use = to set the value in the field.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>value</strong>&nbsp;- the value used for the update operation.</span></li>
</ul>
<span style="font-family:arial,helvetica,sans-serif;"> RapidAPI supports several update operators:</span>

<ul>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>=</strong>&nbsp;- sets the value in the field to the value passed (creates a new field with that value if it doesn&rsquo;t exist).</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>+</strong>&nbsp;- increments the value in the field by the value passed (uses concatenation for strings).</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>-</strong>&nbsp;- decrements the value in the field by the value passed.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>*</strong>&nbsp;- multiplies the value in the field by the value passed.</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>min</strong>&nbsp;- sets the value in the field to the smaller value out of it&rsquo;s current value and the passed value (for strings it uses lexical comparison).</span></li>
  <li><span style="font-family:arial,helvetica,sans-serif;"><strong>max</strong>&nbsp;- sets the value in the field to the bigger value out of it&rsquo;s current value and the passed value (for strings it uses lexical comparison).</span></li>
</ul>

								<!-- Navigation -->
								<!--<ul class="navigation">-->
									<!--<li class="navigation-previous">-->
										<!--<a href="#">Previous article</a>-->
									<!--</li>-->
									<!--<li class="navigation-next">-->
										<!--<a href="#">Next article</a>-->
									<!--</li>-->
								<!--</ul>-->
								<!-- End of Navigation -->
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="footer-include"></div>
	</div>
	<script src="js/all.js"></script>
	<script src="js/custom.js"></script>

	<script>
		$(function(){
			$("#footer-include").load("footer.html");
			$("#header-include").load("header.html");
			$("#left-sidebar-include").load("left-sidebar.html");
		});
	</script>

	<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
	<!-- 
    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-XXXXX-X','auto');ga('send','pageview');
    </script>
     -->
</body>

</html>